{"ast":null,"code":"import React from'react';import{useCart}from'../contexts/CartContext';import{useAuth}from'../contexts/AuthContext';import{Trash2,Minus,Plus,ShoppingCart}from'lucide-react';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Cart=()=>{const{items,removeFromCart,updateQuantity,clearCart,getItemCount,getTotal}=useCart();const{user}=useAuth();const navigate=useNavigate();const handleQuantityChange=(productId,newQuantity)=>{if(newQuantity<=0){removeFromCart(productId);}else{updateQuantity(productId,newQuantity);}};const handleCheckout=()=>{if(!user){alert('Please login to checkout!');return;}if(getItemCount()===0){alert('Your cart is empty!');return;}// Redirect to payment page instead of processing directly\nnavigate('/payment');};if(getItemCount()===0){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 py-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl mb-4\",children:\"\\uD83D\\uDED2\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900 mb-4\",children:\"Your Cart is Empty\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-8\",children:\"Add some pet boxes to get started!\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/products'),className:\"bg-purple-600 hover:bg-purple-700 text-white px-8 py-3 rounded-lg font-semibold transition-colors\",children:\"Browse Pet Boxes\"})]})})});}return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 py-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-lg p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-3xl font-bold text-gray-900 flex items-center\",children:[/*#__PURE__*/_jsx(ShoppingCart,{size:32,className:\"mr-3\"}),\"Shopping Cart\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-600\",children:[getItemCount(),\" item\",getItemCount()!==1?'s':'']})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4 mb-6\",children:items.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 border border-gray-200 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"img\",{src:item.product.image,alt:item.product.name,className:\"w-16 h-16 object-cover rounded-lg\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-900\",children:item.product.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[\"$\",item.product.price.toFixed(2)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleQuantityChange(item.product.id,item.quantity-1),className:\"p-1 hover:bg-gray-100 rounded\",children:/*#__PURE__*/_jsx(Minus,{size:16})}),/*#__PURE__*/_jsx(\"span\",{className:\"w-8 text-center\",children:item.quantity}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleQuantityChange(item.product.id,item.quantity+1),className:\"p-1 hover:bg-gray-100 rounded\",children:/*#__PURE__*/_jsx(Plus,{size:16})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeFromCart(item.product.id),className:\"p-1 hover:bg-red-100 rounded text-red-600\",children:/*#__PURE__*/_jsx(Trash2,{size:16})})]})]},item.product.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-t pt-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xl font-semibold text-gray-900\",children:\"Total:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-2xl font-bold text-purple-600\",children:[\"$\",getTotal().toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:clearCart,className:\"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 px-6 py-3 rounded-lg font-semibold transition-colors\",children:\"Clear Cart\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCheckout,className:\"flex-1 bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors flex items-center justify-center\",children:\"Proceed to Payment\"})]})]})]})})});};export default Cart;","map":{"version":3,"names":["React","useCart","useAuth","Trash2","Minus","Plus","ShoppingCart","useNavigate","jsx","_jsx","jsxs","_jsxs","Cart","items","removeFromCart","updateQuantity","clearCart","getItemCount","getTotal","user","navigate","handleQuantityChange","productId","newQuantity","handleCheckout","alert","className","children","onClick","size","map","item","src","product","image","alt","name","price","toFixed","id","quantity"],"sources":["/Users/thitiwutphophan/shop/src/components/Cart.tsx"],"sourcesContent":["import React from 'react';\nimport { useCart } from '../contexts/CartContext';\nimport { useAuth } from '../contexts/AuthContext';\nimport { Trash2, Minus, Plus, ShoppingCart } from 'lucide-react';\nimport { useNavigate } from 'react-router-dom';\n\nconst Cart: React.FC = () => {\n  const { items, removeFromCart, updateQuantity, clearCart, getItemCount, getTotal } = useCart();\n  const { user } = useAuth();\n  const navigate = useNavigate();\n\n  const handleQuantityChange = (productId: string, newQuantity: number) => {\n    if (newQuantity <= 0) {\n      removeFromCart(productId);\n    } else {\n      updateQuantity(productId, newQuantity);\n    }\n  };\n\n  const handleCheckout = () => {\n    if (!user) {\n      alert('Please login to checkout!');\n      return;\n    }\n\n    if (getItemCount() === 0) {\n      alert('Your cart is empty!');\n      return;\n    }\n\n    // Redirect to payment page instead of processing directly\n    navigate('/payment');\n  };\n\n  if (getItemCount() === 0) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 py-12\">\n        <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"text-center\">\n            <div className=\"text-6xl mb-4\">ðŸ›’</div>\n            <h1 className=\"text-3xl font-bold text-gray-900 mb-4\">Your Cart is Empty</h1>\n            <p className=\"text-gray-600 mb-8\">Add some pet boxes to get started!</p>\n            <button\n              onClick={() => navigate('/products')}\n              className=\"bg-purple-600 hover:bg-purple-700 text-white px-8 py-3 rounded-lg font-semibold transition-colors\"\n            >\n              Browse Pet Boxes\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 py-8\">\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"bg-white rounded-lg shadow-lg p-6\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <h1 className=\"text-3xl font-bold text-gray-900 flex items-center\">\n              <ShoppingCart size={32} className=\"mr-3\" />\n              Shopping Cart\n            </h1>\n            <span className=\"text-gray-600\">\n              {getItemCount()} item{getItemCount() !== 1 ? 's' : ''}\n            </span>\n          </div>\n\n          <div className=\"space-y-4 mb-6\">\n            {items.map((item) => (\n              <div key={item.product.id} className=\"flex items-center justify-between p-4 border border-gray-200 rounded-lg\">\n                <div className=\"flex items-center space-x-4\">\n                  <img\n                    src={item.product.image}\n                    alt={item.product.name}\n                    className=\"w-16 h-16 object-cover rounded-lg\"\n                  />\n                  <div>\n                    <h3 className=\"font-semibold text-gray-900\">{item.product.name}</h3>\n                    <p className=\"text-gray-600\">${item.product.price.toFixed(2)}</p>\n                  </div>\n                </div>\n                <div className=\"flex items-center space-x-2\">\n                  <button\n                    onClick={() => handleQuantityChange(item.product.id, item.quantity - 1)}\n                    className=\"p-1 hover:bg-gray-100 rounded\"\n                  >\n                    <Minus size={16} />\n                  </button>\n                  <span className=\"w-8 text-center\">{item.quantity}</span>\n                  <button\n                    onClick={() => handleQuantityChange(item.product.id, item.quantity + 1)}\n                    className=\"p-1 hover:bg-gray-100 rounded\"\n                  >\n                    <Plus size={16} />\n                  </button>\n                  <button\n                    onClick={() => removeFromCart(item.product.id)}\n                    className=\"p-1 hover:bg-red-100 rounded text-red-600\"\n                  >\n                    <Trash2 size={16} />\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n\n          <div className=\"border-t pt-6\">\n            <div className=\"flex justify-between items-center mb-6\">\n              <span className=\"text-xl font-semibold text-gray-900\">Total:</span>\n              <span className=\"text-2xl font-bold text-purple-600\">${getTotal().toFixed(2)}</span>\n            </div>\n\n            <div className=\"flex flex-col sm:flex-row gap-4\">\n              <button\n                onClick={clearCart}\n                className=\"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 px-6 py-3 rounded-lg font-semibold transition-colors\"\n              >\n                Clear Cart\n              </button>\n              <button\n                onClick={handleCheckout}\n                className=\"flex-1 bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors flex items-center justify-center\"\n              >\n                Proceed to Payment\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Cart; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,OAAO,KAAQ,yBAAyB,CACjD,OAASC,OAAO,KAAQ,yBAAyB,CACjD,OAASC,MAAM,CAAEC,KAAK,CAAEC,IAAI,CAAEC,YAAY,KAAQ,cAAc,CAChE,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/C,KAAM,CAAAC,IAAc,CAAGA,CAAA,GAAM,CAC3B,KAAM,CAAEC,KAAK,CAAEC,cAAc,CAAEC,cAAc,CAAEC,SAAS,CAAEC,YAAY,CAAEC,QAAS,CAAC,CAAGjB,OAAO,CAAC,CAAC,CAC9F,KAAM,CAAEkB,IAAK,CAAC,CAAGjB,OAAO,CAAC,CAAC,CAC1B,KAAM,CAAAkB,QAAQ,CAAGb,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAc,oBAAoB,CAAGA,CAACC,SAAiB,CAAEC,WAAmB,GAAK,CACvE,GAAIA,WAAW,EAAI,CAAC,CAAE,CACpBT,cAAc,CAACQ,SAAS,CAAC,CAC3B,CAAC,IAAM,CACLP,cAAc,CAACO,SAAS,CAAEC,WAAW,CAAC,CACxC,CACF,CAAC,CAED,KAAM,CAAAC,cAAc,CAAGA,CAAA,GAAM,CAC3B,GAAI,CAACL,IAAI,CAAE,CACTM,KAAK,CAAC,2BAA2B,CAAC,CAClC,OACF,CAEA,GAAIR,YAAY,CAAC,CAAC,GAAK,CAAC,CAAE,CACxBQ,KAAK,CAAC,qBAAqB,CAAC,CAC5B,OACF,CAEA;AACAL,QAAQ,CAAC,UAAU,CAAC,CACtB,CAAC,CAED,GAAIH,YAAY,CAAC,CAAC,GAAK,CAAC,CAAE,CACxB,mBACER,IAAA,QAAKiB,SAAS,CAAC,+BAA+B,CAAAC,QAAA,cAC5ClB,IAAA,QAAKiB,SAAS,CAAC,wCAAwC,CAAAC,QAAA,cACrDhB,KAAA,QAAKe,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BlB,IAAA,QAAKiB,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,cAAE,CAAK,CAAC,cACvClB,IAAA,OAAIiB,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CAAC,oBAAkB,CAAI,CAAC,cAC7ElB,IAAA,MAAGiB,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,oCAAkC,CAAG,CAAC,cACxElB,IAAA,WACEmB,OAAO,CAAEA,CAAA,GAAMR,QAAQ,CAAC,WAAW,CAAE,CACrCM,SAAS,CAAC,mGAAmG,CAAAC,QAAA,CAC9G,kBAED,CAAQ,CAAC,EACN,CAAC,CACH,CAAC,CACH,CAAC,CAEV,CAEA,mBACElB,IAAA,QAAKiB,SAAS,CAAC,8BAA8B,CAAAC,QAAA,cAC3ClB,IAAA,QAAKiB,SAAS,CAAC,wCAAwC,CAAAC,QAAA,cACrDhB,KAAA,QAAKe,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDhB,KAAA,QAAKe,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrDhB,KAAA,OAAIe,SAAS,CAAC,oDAAoD,CAAAC,QAAA,eAChElB,IAAA,CAACH,YAAY,EAACuB,IAAI,CAAE,EAAG,CAACH,SAAS,CAAC,MAAM,CAAE,CAAC,gBAE7C,EAAI,CAAC,cACLf,KAAA,SAAMe,SAAS,CAAC,eAAe,CAAAC,QAAA,EAC5BV,YAAY,CAAC,CAAC,CAAC,OAAK,CAACA,YAAY,CAAC,CAAC,GAAK,CAAC,CAAG,GAAG,CAAG,EAAE,EACjD,CAAC,EACJ,CAAC,cAENR,IAAA,QAAKiB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAC5Bd,KAAK,CAACiB,GAAG,CAAEC,IAAI,eACdpB,KAAA,QAA2Be,SAAS,CAAC,yEAAyE,CAAAC,QAAA,eAC5GhB,KAAA,QAAKe,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1ClB,IAAA,QACEuB,GAAG,CAAED,IAAI,CAACE,OAAO,CAACC,KAAM,CACxBC,GAAG,CAAEJ,IAAI,CAACE,OAAO,CAACG,IAAK,CACvBV,SAAS,CAAC,mCAAmC,CAC9C,CAAC,cACFf,KAAA,QAAAgB,QAAA,eACElB,IAAA,OAAIiB,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAEI,IAAI,CAACE,OAAO,CAACG,IAAI,CAAK,CAAC,cACpEzB,KAAA,MAAGe,SAAS,CAAC,eAAe,CAAAC,QAAA,EAAC,GAAC,CAACI,IAAI,CAACE,OAAO,CAACI,KAAK,CAACC,OAAO,CAAC,CAAC,CAAC,EAAI,CAAC,EAC9D,CAAC,EACH,CAAC,cACN3B,KAAA,QAAKe,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1ClB,IAAA,WACEmB,OAAO,CAAEA,CAAA,GAAMP,oBAAoB,CAACU,IAAI,CAACE,OAAO,CAACM,EAAE,CAAER,IAAI,CAACS,QAAQ,CAAG,CAAC,CAAE,CACxEd,SAAS,CAAC,+BAA+B,CAAAC,QAAA,cAEzClB,IAAA,CAACL,KAAK,EAACyB,IAAI,CAAE,EAAG,CAAE,CAAC,CACb,CAAC,cACTpB,IAAA,SAAMiB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAEI,IAAI,CAACS,QAAQ,CAAO,CAAC,cACxD/B,IAAA,WACEmB,OAAO,CAAEA,CAAA,GAAMP,oBAAoB,CAACU,IAAI,CAACE,OAAO,CAACM,EAAE,CAAER,IAAI,CAACS,QAAQ,CAAG,CAAC,CAAE,CACxEd,SAAS,CAAC,+BAA+B,CAAAC,QAAA,cAEzClB,IAAA,CAACJ,IAAI,EAACwB,IAAI,CAAE,EAAG,CAAE,CAAC,CACZ,CAAC,cACTpB,IAAA,WACEmB,OAAO,CAAEA,CAAA,GAAMd,cAAc,CAACiB,IAAI,CAACE,OAAO,CAACM,EAAE,CAAE,CAC/Cb,SAAS,CAAC,2CAA2C,CAAAC,QAAA,cAErDlB,IAAA,CAACN,MAAM,EAAC0B,IAAI,CAAE,EAAG,CAAE,CAAC,CACd,CAAC,EACN,CAAC,GAhCEE,IAAI,CAACE,OAAO,CAACM,EAiClB,CACN,CAAC,CACC,CAAC,cAEN5B,KAAA,QAAKe,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BhB,KAAA,QAAKe,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrDlB,IAAA,SAAMiB,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAC,QAAM,CAAM,CAAC,cACnEhB,KAAA,SAAMe,SAAS,CAAC,oCAAoC,CAAAC,QAAA,EAAC,GAAC,CAACT,QAAQ,CAAC,CAAC,CAACoB,OAAO,CAAC,CAAC,CAAC,EAAO,CAAC,EACjF,CAAC,cAEN3B,KAAA,QAAKe,SAAS,CAAC,iCAAiC,CAAAC,QAAA,eAC9ClB,IAAA,WACEmB,OAAO,CAAEZ,SAAU,CACnBU,SAAS,CAAC,yGAAyG,CAAAC,QAAA,CACpH,YAED,CAAQ,CAAC,cACTlB,IAAA,WACEmB,OAAO,CAAEJ,cAAe,CACxBE,SAAS,CAAC,2IAA2I,CAAAC,QAAA,CACtJ,oBAED,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,EACH,CAAC,CACH,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAf,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}