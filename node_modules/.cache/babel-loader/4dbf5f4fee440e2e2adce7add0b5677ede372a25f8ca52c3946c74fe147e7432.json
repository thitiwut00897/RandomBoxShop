{"ast":null,"code":"var _LineNotificationService;\nclass LineNotificationService {\n  constructor() {\n    this.notifications = [];\n  }\n  static getInstance() {\n    if (!LineNotificationService.instance) {\n      LineNotificationService.instance = new LineNotificationService();\n    }\n    return LineNotificationService.instance;\n  }\n  async sendNotification(message, type = 'info') {\n    const notification = {\n      message,\n      timestamp: new Date(),\n      type\n    };\n    this.notifications.push(notification);\n\n    // In a real application, you would integrate with Line Notify API\n    // For now, we'll simulate the API call\n    console.log(`[LINE NOTIFICATION] ${type.toUpperCase()}: ${message}`);\n\n    // Simulate API delay\n    await new Promise(resolve => setTimeout(resolve, 1000));\n\n    // You would typically make an HTTP request to Line Notify API like this:\n    /*\n    const response = await fetch('https://notify-api.line.me/api/notify', {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${process.env.REACT_APP_LINE_NOTIFY_TOKEN}`,\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n      body: `message=${encodeURIComponent(message)}`,\n    });\n    \n    if (!response.ok) {\n      throw new Error('Failed to send Line notification');\n    }\n    */\n  }\n  async sendPurchaseSuccessNotification(userName, orderTotal, items) {\n    const message = `ðŸŽ‰ Purchase Successful!\\n\\nUser: ${userName}\\nTotal: $${orderTotal.toFixed(2)}\\nItems: ${items.join(', ')}\\n\\nThank you for your purchase!`;\n    await this.sendNotification(message, 'success');\n  }\n  async sendSpinnerWinNotification(userName, itemName, rarity) {\n    const message = `ðŸŽ° Lucky Spin!\\n\\nUser: ${userName}\\nWon: ${itemName}\\nRarity: ${rarity.toUpperCase()}\\n\\nCongratulations!`;\n    await this.sendNotification(message, 'success');\n  }\n  getNotifications() {\n    return [...this.notifications];\n  }\n  clearNotifications() {\n    this.notifications = [];\n  }\n}\n_LineNotificationService = LineNotificationService;\nLineNotificationService.instance = void 0;\nexport const lineNotificationService = LineNotificationService.getInstance();","map":{"version":3,"names":["LineNotificationService","constructor","notifications","getInstance","instance","sendNotification","message","type","notification","timestamp","Date","push","console","log","toUpperCase","Promise","resolve","setTimeout","sendPurchaseSuccessNotification","userName","orderTotal","items","toFixed","join","sendSpinnerWinNotification","itemName","rarity","getNotifications","clearNotifications","_LineNotificationService","lineNotificationService"],"sources":["/Users/thitiwutphophan/shop/src/services/lineNotification.ts"],"sourcesContent":["import { LineNotification } from '../types';\n\nclass LineNotificationService {\n  private static instance: LineNotificationService;\n  private notifications: LineNotification[] = [];\n\n  private constructor() {}\n\n  static getInstance(): LineNotificationService {\n    if (!LineNotificationService.instance) {\n      LineNotificationService.instance = new LineNotificationService();\n    }\n    return LineNotificationService.instance;\n  }\n\n  async sendNotification(message: string, type: 'success' | 'error' | 'info' = 'info'): Promise<void> {\n    const notification: LineNotification = {\n      message,\n      timestamp: new Date(),\n      type,\n    };\n\n    this.notifications.push(notification);\n\n    // In a real application, you would integrate with Line Notify API\n    // For now, we'll simulate the API call\n    console.log(`[LINE NOTIFICATION] ${type.toUpperCase()}: ${message}`);\n    \n    // Simulate API delay\n    await new Promise(resolve => setTimeout(resolve, 1000));\n    \n    // You would typically make an HTTP request to Line Notify API like this:\n    /*\n    const response = await fetch('https://notify-api.line.me/api/notify', {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${process.env.REACT_APP_LINE_NOTIFY_TOKEN}`,\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n      body: `message=${encodeURIComponent(message)}`,\n    });\n    \n    if (!response.ok) {\n      throw new Error('Failed to send Line notification');\n    }\n    */\n  }\n\n  async sendPurchaseSuccessNotification(userName: string, orderTotal: number, items: string[]): Promise<void> {\n    const message = `ðŸŽ‰ Purchase Successful!\\n\\nUser: ${userName}\\nTotal: $${orderTotal.toFixed(2)}\\nItems: ${items.join(', ')}\\n\\nThank you for your purchase!`;\n    \n    await this.sendNotification(message, 'success');\n  }\n\n  async sendSpinnerWinNotification(userName: string, itemName: string, rarity: string): Promise<void> {\n    const message = `ðŸŽ° Lucky Spin!\\n\\nUser: ${userName}\\nWon: ${itemName}\\nRarity: ${rarity.toUpperCase()}\\n\\nCongratulations!`;\n    \n    await this.sendNotification(message, 'success');\n  }\n\n  getNotifications(): LineNotification[] {\n    return [...this.notifications];\n  }\n\n  clearNotifications(): void {\n    this.notifications = [];\n  }\n}\n\nexport const lineNotificationService = LineNotificationService.getInstance(); "],"mappings":";AAEA,MAAMA,uBAAuB,CAAC;EAIpBC,WAAWA,CAAA,EAAG;IAAA,KAFdC,aAAa,GAAuB,EAAE;EAEvB;EAEvB,OAAOC,WAAWA,CAAA,EAA4B;IAC5C,IAAI,CAACH,uBAAuB,CAACI,QAAQ,EAAE;MACrCJ,uBAAuB,CAACI,QAAQ,GAAG,IAAIJ,uBAAuB,CAAC,CAAC;IAClE;IACA,OAAOA,uBAAuB,CAACI,QAAQ;EACzC;EAEA,MAAMC,gBAAgBA,CAACC,OAAe,EAAEC,IAAkC,GAAG,MAAM,EAAiB;IAClG,MAAMC,YAA8B,GAAG;MACrCF,OAAO;MACPG,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC;MACrBH;IACF,CAAC;IAED,IAAI,CAACL,aAAa,CAACS,IAAI,CAACH,YAAY,CAAC;;IAErC;IACA;IACAI,OAAO,CAACC,GAAG,CAAC,uBAAuBN,IAAI,CAACO,WAAW,CAAC,CAAC,KAAKR,OAAO,EAAE,CAAC;;IAEpE;IACA,MAAM,IAAIS,OAAO,CAACC,OAAO,IAAIC,UAAU,CAACD,OAAO,EAAE,IAAI,CAAC,CAAC;;IAEvD;IACA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACE;EAEA,MAAME,+BAA+BA,CAACC,QAAgB,EAAEC,UAAkB,EAAEC,KAAe,EAAiB;IAC1G,MAAMf,OAAO,GAAG,oCAAoCa,QAAQ,aAAaC,UAAU,CAACE,OAAO,CAAC,CAAC,CAAC,YAAYD,KAAK,CAACE,IAAI,CAAC,IAAI,CAAC,kCAAkC;IAE5J,MAAM,IAAI,CAAClB,gBAAgB,CAACC,OAAO,EAAE,SAAS,CAAC;EACjD;EAEA,MAAMkB,0BAA0BA,CAACL,QAAgB,EAAEM,QAAgB,EAAEC,MAAc,EAAiB;IAClG,MAAMpB,OAAO,GAAG,2BAA2Ba,QAAQ,UAAUM,QAAQ,aAAaC,MAAM,CAACZ,WAAW,CAAC,CAAC,sBAAsB;IAE5H,MAAM,IAAI,CAACT,gBAAgB,CAACC,OAAO,EAAE,SAAS,CAAC;EACjD;EAEAqB,gBAAgBA,CAAA,EAAuB;IACrC,OAAO,CAAC,GAAG,IAAI,CAACzB,aAAa,CAAC;EAChC;EAEA0B,kBAAkBA,CAAA,EAAS;IACzB,IAAI,CAAC1B,aAAa,GAAG,EAAE;EACzB;AACF;AAAC2B,wBAAA,GAjEK7B,uBAAuB;AAAvBA,uBAAuB,CACZI,QAAQ;AAkEzB,OAAO,MAAM0B,uBAAuB,GAAG9B,uBAAuB,CAACG,WAAW,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}