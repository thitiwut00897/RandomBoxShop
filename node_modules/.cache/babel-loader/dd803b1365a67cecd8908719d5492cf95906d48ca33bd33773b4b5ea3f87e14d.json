{"ast":null,"code":"var _jsxFileName = \"/Users/thitiwutphophan/shop/src/contexts/SpinnerContext.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SpinnerContext = /*#__PURE__*/createContext(undefined);\nexport const useSpinner = () => {\n  _s();\n  const context = useContext(SpinnerContext);\n  if (context === undefined) {\n    throw new Error('useSpinner must be used within a SpinnerProvider');\n  }\n  return context;\n};\n_s(useSpinner, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n// Sample spinner items with different rarities\nconst spinnerItems = [\n// Common items (60% probability)\n{\n  id: '1',\n  name: 'Common Sword',\n  rarity: 'common',\n  image: '‚öîÔ∏è',\n  probability: 0.6\n}, {\n  id: '2',\n  name: 'Basic Shield',\n  rarity: 'common',\n  image: 'üõ°Ô∏è',\n  probability: 0.6\n}, {\n  id: '3',\n  name: 'Simple Potion',\n  rarity: 'common',\n  image: 'üß™',\n  probability: 0.6\n}, {\n  id: '4',\n  name: 'Wooden Bow',\n  rarity: 'common',\n  image: 'üèπ',\n  probability: 0.6\n},\n// Rare items (25% probability)\n{\n  id: '5',\n  name: 'Magic Staff',\n  rarity: 'rare',\n  image: 'üîÆ',\n  probability: 0.25\n}, {\n  id: '6',\n  name: 'Steel Armor',\n  rarity: 'rare',\n  image: 'ü•ã',\n  probability: 0.25\n}, {\n  id: '7',\n  name: 'Healing Crystal',\n  rarity: 'rare',\n  image: 'üíé',\n  probability: 0.25\n}, {\n  id: '8',\n  name: 'Enchanted Ring',\n  rarity: 'rare',\n  image: 'üíç',\n  probability: 0.25\n},\n// Epic items (10% probability)\n{\n  id: '9',\n  name: 'Dragon Scale',\n  rarity: 'epic',\n  image: 'üêâ',\n  probability: 0.1\n}, {\n  id: '10',\n  name: 'Ancient Relic',\n  rarity: 'epic',\n  image: 'üè∫',\n  probability: 0.1\n}, {\n  id: '11',\n  name: 'Phoenix Feather',\n  rarity: 'epic',\n  image: 'üî•',\n  probability: 0.1\n},\n// Legendary items (5% probability)\n{\n  id: '12',\n  name: 'Excalibur',\n  rarity: 'legendary',\n  image: '‚öúÔ∏è',\n  probability: 0.05\n}, {\n  id: '13',\n  name: 'Crown of Kings',\n  rarity: 'legendary',\n  image: 'üëë',\n  probability: 0.05\n}, {\n  id: '14',\n  name: 'Infinity Stone',\n  rarity: 'legendary',\n  image: 'üíé',\n  probability: 0.05\n}];\nexport const SpinnerProvider = ({\n  children\n}) => {\n  _s2();\n  const [isSpinning, setIsSpinning] = useState(false);\n  const [currentItem, setCurrentItem] = useState(null);\n  const getRandomItem = () => {\n    const random = Math.random();\n    let cumulativeProbability = 0;\n    for (const item of spinnerItems) {\n      cumulativeProbability += item.probability;\n      if (random <= cumulativeProbability) {\n        return item;\n      }\n    }\n\n    // Fallback to common item\n    return spinnerItems[0];\n  };\n  const spin = async () => {\n    setIsSpinning(true);\n\n    // Simulate spinning animation\n    await new Promise(resolve => setTimeout(resolve, 3000));\n    const wonItem = getRandomItem();\n    setCurrentItem(wonItem);\n    setIsSpinning(false);\n    return wonItem;\n  };\n  const resetSpinner = () => {\n    setCurrentItem(null);\n  };\n  const value = {\n    isSpinning,\n    currentItem,\n    spin,\n    resetSpinner\n  };\n  return /*#__PURE__*/_jsxDEV(SpinnerContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 5\n  }, this);\n};\n_s2(SpinnerProvider, \"3UFoqwL7Kne7P7ZCsDuXGRuJn54=\");\n_c = SpinnerProvider;\nvar _c;\n$RefreshReg$(_c, \"SpinnerProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","jsxDEV","_jsxDEV","SpinnerContext","undefined","useSpinner","_s","context","Error","spinnerItems","id","name","rarity","image","probability","SpinnerProvider","children","_s2","isSpinning","setIsSpinning","currentItem","setCurrentItem","getRandomItem","random","Math","cumulativeProbability","item","spin","Promise","resolve","setTimeout","wonItem","resetSpinner","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/thitiwutphophan/shop/src/contexts/SpinnerContext.tsx"],"sourcesContent":["import React, { createContext, useContext, useState, ReactNode } from 'react';\nimport { SpinnerItem } from '../types';\n\ninterface SpinnerContextType {\n  isSpinning: boolean;\n  currentItem: SpinnerItem | null;\n  spin: () => Promise<SpinnerItem>;\n  resetSpinner: () => void;\n}\n\nconst SpinnerContext = createContext<SpinnerContextType | undefined>(undefined);\n\nexport const useSpinner = () => {\n  const context = useContext(SpinnerContext);\n  if (context === undefined) {\n    throw new Error('useSpinner must be used within a SpinnerProvider');\n  }\n  return context;\n};\n\ninterface SpinnerProviderProps {\n  children: ReactNode;\n}\n\n// Sample spinner items with different rarities\nconst spinnerItems: SpinnerItem[] = [\n  // Common items (60% probability)\n  { id: '1', name: 'Common Sword', rarity: 'common', image: '‚öîÔ∏è', probability: 0.6 },\n  { id: '2', name: 'Basic Shield', rarity: 'common', image: 'üõ°Ô∏è', probability: 0.6 },\n  { id: '3', name: 'Simple Potion', rarity: 'common', image: 'üß™', probability: 0.6 },\n  { id: '4', name: 'Wooden Bow', rarity: 'common', image: 'üèπ', probability: 0.6 },\n  \n  // Rare items (25% probability)\n  { id: '5', name: 'Magic Staff', rarity: 'rare', image: 'üîÆ', probability: 0.25 },\n  { id: '6', name: 'Steel Armor', rarity: 'rare', image: 'ü•ã', probability: 0.25 },\n  { id: '7', name: 'Healing Crystal', rarity: 'rare', image: 'üíé', probability: 0.25 },\n  { id: '8', name: 'Enchanted Ring', rarity: 'rare', image: 'üíç', probability: 0.25 },\n  \n  // Epic items (10% probability)\n  { id: '9', name: 'Dragon Scale', rarity: 'epic', image: 'üêâ', probability: 0.1 },\n  { id: '10', name: 'Ancient Relic', rarity: 'epic', image: 'üè∫', probability: 0.1 },\n  { id: '11', name: 'Phoenix Feather', rarity: 'epic', image: 'üî•', probability: 0.1 },\n  \n  // Legendary items (5% probability)\n  { id: '12', name: 'Excalibur', rarity: 'legendary', image: '‚öúÔ∏è', probability: 0.05 },\n  { id: '13', name: 'Crown of Kings', rarity: 'legendary', image: 'üëë', probability: 0.05 },\n  { id: '14', name: 'Infinity Stone', rarity: 'legendary', image: 'üíé', probability: 0.05 },\n];\n\nexport const SpinnerProvider: React.FC<SpinnerProviderProps> = ({ children }) => {\n  const [isSpinning, setIsSpinning] = useState(false);\n  const [currentItem, setCurrentItem] = useState<SpinnerItem | null>(null);\n\n  const getRandomItem = (): SpinnerItem => {\n    const random = Math.random();\n    let cumulativeProbability = 0;\n    \n    for (const item of spinnerItems) {\n      cumulativeProbability += item.probability;\n      if (random <= cumulativeProbability) {\n        return item;\n      }\n    }\n    \n    // Fallback to common item\n    return spinnerItems[0];\n  };\n\n  const spin = async (): Promise<SpinnerItem> => {\n    setIsSpinning(true);\n    \n    // Simulate spinning animation\n    await new Promise(resolve => setTimeout(resolve, 3000));\n    \n    const wonItem = getRandomItem();\n    setCurrentItem(wonItem);\n    setIsSpinning(false);\n    \n    return wonItem;\n  };\n\n  const resetSpinner = () => {\n    setCurrentItem(null);\n  };\n\n  const value = {\n    isSpinning,\n    currentItem,\n    spin,\n    resetSpinner,\n  };\n\n  return (\n    <SpinnerContext.Provider value={value}>\n      {children}\n    </SpinnerContext.Provider>\n  );\n}; "],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,EAAEC,QAAQ,QAAmB,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAU9E,MAAMC,cAAc,gBAAGL,aAAa,CAAiCM,SAAS,CAAC;AAE/E,OAAO,MAAMC,UAAU,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC9B,MAAMC,OAAO,GAAGR,UAAU,CAACI,cAAc,CAAC;EAC1C,IAAII,OAAO,KAAKH,SAAS,EAAE;IACzB,MAAM,IAAII,KAAK,CAAC,kDAAkD,CAAC;EACrE;EACA,OAAOD,OAAO;AAChB,CAAC;AAACD,EAAA,CANWD,UAAU;AAYvB;AACA,MAAMI,YAA2B,GAAG;AAClC;AACA;EAAEC,EAAE,EAAE,GAAG;EAAEC,IAAI,EAAE,cAAc;EAAEC,MAAM,EAAE,QAAQ;EAAEC,KAAK,EAAE,IAAI;EAAEC,WAAW,EAAE;AAAI,CAAC,EAClF;EAAEJ,EAAE,EAAE,GAAG;EAAEC,IAAI,EAAE,cAAc;EAAEC,MAAM,EAAE,QAAQ;EAAEC,KAAK,EAAE,KAAK;EAAEC,WAAW,EAAE;AAAI,CAAC,EACnF;EAAEJ,EAAE,EAAE,GAAG;EAAEC,IAAI,EAAE,eAAe;EAAEC,MAAM,EAAE,QAAQ;EAAEC,KAAK,EAAE,IAAI;EAAEC,WAAW,EAAE;AAAI,CAAC,EACnF;EAAEJ,EAAE,EAAE,GAAG;EAAEC,IAAI,EAAE,YAAY;EAAEC,MAAM,EAAE,QAAQ;EAAEC,KAAK,EAAE,IAAI;EAAEC,WAAW,EAAE;AAAI,CAAC;AAEhF;AACA;EAAEJ,EAAE,EAAE,GAAG;EAAEC,IAAI,EAAE,aAAa;EAAEC,MAAM,EAAE,MAAM;EAAEC,KAAK,EAAE,IAAI;EAAEC,WAAW,EAAE;AAAK,CAAC,EAChF;EAAEJ,EAAE,EAAE,GAAG;EAAEC,IAAI,EAAE,aAAa;EAAEC,MAAM,EAAE,MAAM;EAAEC,KAAK,EAAE,IAAI;EAAEC,WAAW,EAAE;AAAK,CAAC,EAChF;EAAEJ,EAAE,EAAE,GAAG;EAAEC,IAAI,EAAE,iBAAiB;EAAEC,MAAM,EAAE,MAAM;EAAEC,KAAK,EAAE,IAAI;EAAEC,WAAW,EAAE;AAAK,CAAC,EACpF;EAAEJ,EAAE,EAAE,GAAG;EAAEC,IAAI,EAAE,gBAAgB;EAAEC,MAAM,EAAE,MAAM;EAAEC,KAAK,EAAE,IAAI;EAAEC,WAAW,EAAE;AAAK,CAAC;AAEnF;AACA;EAAEJ,EAAE,EAAE,GAAG;EAAEC,IAAI,EAAE,cAAc;EAAEC,MAAM,EAAE,MAAM;EAAEC,KAAK,EAAE,IAAI;EAAEC,WAAW,EAAE;AAAI,CAAC,EAChF;EAAEJ,EAAE,EAAE,IAAI;EAAEC,IAAI,EAAE,eAAe;EAAEC,MAAM,EAAE,MAAM;EAAEC,KAAK,EAAE,IAAI;EAAEC,WAAW,EAAE;AAAI,CAAC,EAClF;EAAEJ,EAAE,EAAE,IAAI;EAAEC,IAAI,EAAE,iBAAiB;EAAEC,MAAM,EAAE,MAAM;EAAEC,KAAK,EAAE,IAAI;EAAEC,WAAW,EAAE;AAAI,CAAC;AAEpF;AACA;EAAEJ,EAAE,EAAE,IAAI;EAAEC,IAAI,EAAE,WAAW;EAAEC,MAAM,EAAE,WAAW;EAAEC,KAAK,EAAE,IAAI;EAAEC,WAAW,EAAE;AAAK,CAAC,EACpF;EAAEJ,EAAE,EAAE,IAAI;EAAEC,IAAI,EAAE,gBAAgB;EAAEC,MAAM,EAAE,WAAW;EAAEC,KAAK,EAAE,IAAI;EAAEC,WAAW,EAAE;AAAK,CAAC,EACzF;EAAEJ,EAAE,EAAE,IAAI;EAAEC,IAAI,EAAE,gBAAgB;EAAEC,MAAM,EAAE,WAAW;EAAEC,KAAK,EAAE,IAAI;EAAEC,WAAW,EAAE;AAAK,CAAC,CAC1F;AAED,OAAO,MAAMC,eAA+C,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,GAAA;EAC/E,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGnB,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAACoB,WAAW,EAAEC,cAAc,CAAC,GAAGrB,QAAQ,CAAqB,IAAI,CAAC;EAExE,MAAMsB,aAAa,GAAGA,CAAA,KAAmB;IACvC,MAAMC,MAAM,GAAGC,IAAI,CAACD,MAAM,CAAC,CAAC;IAC5B,IAAIE,qBAAqB,GAAG,CAAC;IAE7B,KAAK,MAAMC,IAAI,IAAIjB,YAAY,EAAE;MAC/BgB,qBAAqB,IAAIC,IAAI,CAACZ,WAAW;MACzC,IAAIS,MAAM,IAAIE,qBAAqB,EAAE;QACnC,OAAOC,IAAI;MACb;IACF;;IAEA;IACA,OAAOjB,YAAY,CAAC,CAAC,CAAC;EACxB,CAAC;EAED,MAAMkB,IAAI,GAAG,MAAAA,CAAA,KAAkC;IAC7CR,aAAa,CAAC,IAAI,CAAC;;IAEnB;IACA,MAAM,IAAIS,OAAO,CAACC,OAAO,IAAIC,UAAU,CAACD,OAAO,EAAE,IAAI,CAAC,CAAC;IAEvD,MAAME,OAAO,GAAGT,aAAa,CAAC,CAAC;IAC/BD,cAAc,CAACU,OAAO,CAAC;IACvBZ,aAAa,CAAC,KAAK,CAAC;IAEpB,OAAOY,OAAO;EAChB,CAAC;EAED,MAAMC,YAAY,GAAGA,CAAA,KAAM;IACzBX,cAAc,CAAC,IAAI,CAAC;EACtB,CAAC;EAED,MAAMY,KAAK,GAAG;IACZf,UAAU;IACVE,WAAW;IACXO,IAAI;IACJK;EACF,CAAC;EAED,oBACE9B,OAAA,CAACC,cAAc,CAAC+B,QAAQ;IAACD,KAAK,EAAEA,KAAM;IAAAjB,QAAA,EACnCA;EAAQ;IAAAmB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACc,CAAC;AAE9B,CAAC;AAACrB,GAAA,CAhDWF,eAA+C;AAAAwB,EAAA,GAA/CxB,eAA+C;AAAA,IAAAwB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}